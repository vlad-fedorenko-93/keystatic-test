---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.svelte";
import Card from "../components/Card.svelte";

const posts = await getCollection("posts");
---

<Layout title="Keystatic & Astro's Content Collections">
  <div>
    <Hero />
    <h2>Posts</h2>
    <div>
      {
        posts.map((post) => (
          <Card title={post.data.title} slug={`/posts/${post.slug}`} />
        ))
      }
    </div>
  </div>
</Layout>

<style>
    div {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
</style>